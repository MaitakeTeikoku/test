<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
</head>

<body>
  <input type="text" id="input" />
  <button id="sendGet">GETリクエスト</button>
  <button id="sendPost">POSTリクエスト</button>
  <p id="output"></p>

  <script>
    const url = "https://script.google.com/macros/s/AKfycbzQzh3W7PRM0TUKKPEpjQNo_84S-4WBCjA49PhZNBeOqUrLLpfQC2tBdJAFigOi25M/exec";
    const input = document.getElementById('input');
    const sendGet = document.getElementById('sendGet');
    const sendPost = document.getElementById('sendPost');
    const output = document.getElementById('output');

    // GETリクエストボタンがクリックされたときの処理
    sendGet.addEventListener('click', async () => {
      const response = await fetch(`${url}?user=${encodeURIComponent(input.value)}`);
      const json = await response.json();
      output.textContent = JSON.stringify(json);
    });

    // POSTリクエストボタンがクリックされたときの処理
    sendPost.addEventListener('click', async () => {
      const data = {
        user: input.value
      }
      const options = {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        payload: JSON.stringify(data)
      }
      const response = await fetch(url, options);
      const json = await response.json();
      output.textContent = JSON.stringify(json);
    });
  </script>
</body>

</html>